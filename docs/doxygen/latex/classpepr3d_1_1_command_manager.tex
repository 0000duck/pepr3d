\hypertarget{classpepr3d_1_1_command_manager}{}\section{pepr3d\+::Command\+Manager$<$ Target $>$ Class Template Reference}
\label{classpepr3d_1_1_command_manager}\index{pepr3d::CommandManager$<$ Target $>$@{pepr3d::CommandManager$<$ Target $>$}}


\mbox{\hyperlink{classpepr3d_1_1_command_manager}{Command\+Manager}} handles all undoable operations on target in the form of commands See.  




{\ttfamily \#include $<$Command\+Manager.\+h$>$}

\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structpepr3d_1_1_command_manager_1_1_snapshot_pair}{Snapshot\+Pair}}
\begin{DoxyCompactList}\small\item\em Saved states of the target and command\+Id after them. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classpepr3d_1_1_command_manager_ae3090192cabdd49b5bc0b8f983a6681a}\label{classpepr3d_1_1_command_manager_ae3090192cabdd49b5bc0b8f983a6681a}} 
using {\bfseries Command\+Base\+Type} = \mbox{\hyperlink{classpepr3d_1_1_command_base}{Command\+Base}}$<$ Target $>$
\item 
\mbox{\Hypertarget{classpepr3d_1_1_command_manager_aff7ffff59dcc764edce1bb4cbbe18704}\label{classpepr3d_1_1_command_manager_aff7ffff59dcc764edce1bb4cbbe18704}} 
using {\bfseries State\+Type} = decltype(std\+::declval$<$ const Target $>$().save\+State())
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classpepr3d_1_1_command_manager_aa4545583769603c741a2dab3e876a5fb}\label{classpepr3d_1_1_command_manager_aa4545583769603c741a2dab3e876a5fb}} 
\mbox{\hyperlink{classpepr3d_1_1_command_manager_aa4545583769603c741a2dab3e876a5fb}{Command\+Manager}} (Target \&target)
\begin{DoxyCompactList}\small\item\em Create a command manager that will be operating around a snapshottable target. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classpepr3d_1_1_command_manager_a0aae9681640f09da9c908154b805273e}{execute}} (std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classpepr3d_1_1_command_base}{Command\+Base\+Type}} $>$ \&\&command, bool join=false)
\begin{DoxyCompactList}\small\item\em Execute a command, saving it into a history and removing all currently redoable commands. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classpepr3d_1_1_command_manager_af71406e4f6aee85b1cb9fe02b9a8b13e}\label{classpepr3d_1_1_command_manager_af71406e4f6aee85b1cb9fe02b9a8b13e}} 
void \mbox{\hyperlink{classpepr3d_1_1_command_manager_af71406e4f6aee85b1cb9fe02b9a8b13e}{undo}} ()
\begin{DoxyCompactList}\small\item\em Undo a single command operation. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classpepr3d_1_1_command_manager_acb90e67e6e97c0d143ddb9e67ccbebb2}\label{classpepr3d_1_1_command_manager_acb90e67e6e97c0d143ddb9e67ccbebb2}} 
void \mbox{\hyperlink{classpepr3d_1_1_command_manager_acb90e67e6e97c0d143ddb9e67ccbebb2}{redo}} ()
\begin{DoxyCompactList}\small\item\em Redo a single command (if possible) \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classpepr3d_1_1_command_manager_a2d53a763697329e206e72ddeef1ce75b}{can\+Undo}} () const
\begin{DoxyCompactList}\small\item\em Is there a command that can be undoed? \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classpepr3d_1_1_command_manager_a2ae3625cc0baac8bb27f659ee0182eff}{can\+Redo}} () const
\begin{DoxyCompactList}\small\item\em Is there a command that can be redoed? \end{DoxyCompactList}\item 
const \mbox{\hyperlink{classpepr3d_1_1_command_base}{Command\+Base\+Type}} \& \mbox{\hyperlink{classpepr3d_1_1_command_manager_a1dc9b90a3f5a6f14502999187a9d45ef}{get\+Last\+Command}} () const
\begin{DoxyCompactList}\small\item\em Get last command that was executed (ie the command to be undoed) \end{DoxyCompactList}\item 
const \mbox{\hyperlink{classpepr3d_1_1_command_base}{Command\+Base\+Type}} \& \mbox{\hyperlink{classpepr3d_1_1_command_manager_ab5767a90a4f309d166210a8e43dec560}{get\+Next\+Command}} () const
\begin{DoxyCompactList}\small\item\em Get next command to be redoed if it exists. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classpepr3d_1_1_command_manager_a95e84353863839ebded5131aef0c06b9}\label{classpepr3d_1_1_command_manager_a95e84353863839ebded5131aef0c06b9}} 
size\+\_\+t \mbox{\hyperlink{classpepr3d_1_1_command_manager_a95e84353863839ebded5131aef0c06b9}{get\+Version\+Number}} () const
\begin{DoxyCompactList}\small\item\em Return the current version number, used to compare any dirty unsaved changes. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classpepr3d_1_1_command_manager_ae889dad593d812deb65c56c07a32bfdb}\label{classpepr3d_1_1_command_manager_ae889dad593d812deb65c56c07a32bfdb}} 
static const int \mbox{\hyperlink{classpepr3d_1_1_command_manager_ae889dad593d812deb65c56c07a32bfdb}{S\+N\+A\+P\+S\+H\+O\+T\+\_\+\+F\+R\+E\+Q\+U\+E\+N\+CY}} = 10
\begin{DoxyCompactList}\small\item\em How often snapshots of the target should be saved (at minimum) \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classpepr3d_1_1_command_manager_a9813d0996dc75f8a5f95ea6bb5627348}\label{classpepr3d_1_1_command_manager_a9813d0996dc75f8a5f95ea6bb5627348}} 
void {\bfseries clear\+Future\+State} ()
\item 
\mbox{\Hypertarget{classpepr3d_1_1_command_manager_a5f8002ebe6e7f1beb7f6176d424bae50}\label{classpepr3d_1_1_command_manager_a5f8002ebe6e7f1beb7f6176d424bae50}} 
auto \mbox{\hyperlink{classpepr3d_1_1_command_manager_a5f8002ebe6e7f1beb7f6176d424bae50}{get\+Prev\+Snapshot\+Iterator}} () const -\/$>$ decltype(std\+::declval$<$ const std\+::vector$<$ \mbox{\hyperlink{structpepr3d_1_1_command_manager_1_1_snapshot_pair}{Snapshot\+Pair}} $>$$>$().begin())
\begin{DoxyCompactList}\small\item\em Get snapshot before current state. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classpepr3d_1_1_command_manager_a96a37fef29ecd232b90da0612b402310}\label{classpepr3d_1_1_command_manager_a96a37fef29ecd232b90da0612b402310}} 
bool \mbox{\hyperlink{classpepr3d_1_1_command_manager_a96a37fef29ecd232b90da0612b402310}{should\+Save\+State}} () const
\begin{DoxyCompactList}\small\item\em Should we save state before next command. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classpepr3d_1_1_command_manager_a40345eec97e82997c3e3a0f231185e30}\label{classpepr3d_1_1_command_manager_a40345eec97e82997c3e3a0f231185e30}} 
bool \mbox{\hyperlink{classpepr3d_1_1_command_manager_a40345eec97e82997c3e3a0f231185e30}{join\+With\+Last\+Command}} (\mbox{\hyperlink{classpepr3d_1_1_command_base}{Command\+Base\+Type}} \&command)
\begin{DoxyCompactList}\small\item\em Join this command with the last one. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classpepr3d_1_1_command_manager_a9a231ac7e910086a522676323b69b9c4}\label{classpepr3d_1_1_command_manager_a9a231ac7e910086a522676323b69b9c4}} 
size\+\_\+t {\bfseries get\+Num\+Of\+Commands\+Since\+Snapshot} () const
\item 
\mbox{\Hypertarget{classpepr3d_1_1_command_manager_abc272c27fa76a577f4af8fd863d70368}\label{classpepr3d_1_1_command_manager_abc272c27fa76a577f4af8fd863d70368}} 
\mbox{\hyperlink{classpepr3d_1_1_command_base}{Command\+Base\+Type}} \& {\bfseries get\+Last\+Command} ()
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classpepr3d_1_1_command_manager_a9a6320349ad160fa9ca7a6c83fa2802a}\label{classpepr3d_1_1_command_manager_a9a6320349ad160fa9ca7a6c83fa2802a}} 
Target \& {\bfseries m\+Target}
\item 
\mbox{\Hypertarget{classpepr3d_1_1_command_manager_a55847061c90eb00139370aa16d88a52a}\label{classpepr3d_1_1_command_manager_a55847061c90eb00139370aa16d88a52a}} 
std\+::vector$<$ std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classpepr3d_1_1_command_base}{Command\+Base\+Type}} $>$ $>$ \mbox{\hyperlink{classpepr3d_1_1_command_manager_a55847061c90eb00139370aa16d88a52a}{m\+Command\+History}}
\begin{DoxyCompactList}\small\item\em Executed and possibly future commands. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classpepr3d_1_1_command_manager_a13e29779a7f1d4464306c952b96f0e94}\label{classpepr3d_1_1_command_manager_a13e29779a7f1d4464306c952b96f0e94}} 
std\+::vector$<$ \mbox{\hyperlink{structpepr3d_1_1_command_manager_1_1_snapshot_pair}{Snapshot\+Pair}} $>$ {\bfseries m\+Target\+Snapshots}
\item 
\mbox{\Hypertarget{classpepr3d_1_1_command_manager_ae1b91a069626a707e392bdb92772a487}\label{classpepr3d_1_1_command_manager_ae1b91a069626a707e392bdb92772a487}} 
size\+\_\+t \mbox{\hyperlink{classpepr3d_1_1_command_manager_ae1b91a069626a707e392bdb92772a487}{m\+Pos\+From\+End}} = 0
\begin{DoxyCompactList}\small\item\em Position from end of the stack. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classpepr3d_1_1_command_manager_a4c73b4cacd523878dbef2cb7ed4805fa}\label{classpepr3d_1_1_command_manager_a4c73b4cacd523878dbef2cb7ed4805fa}} 
size\+\_\+t \mbox{\hyperlink{classpepr3d_1_1_command_manager_a4c73b4cacd523878dbef2cb7ed4805fa}{m\+Version}} = 0
\begin{DoxyCompactList}\small\item\em Cumulative version number which gets incremented every single time a command is executed or Undo/\+Redo is done. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
\subsubsection*{template$<$typename Target$>$\newline
class pepr3d\+::\+Command\+Manager$<$ Target $>$}

\mbox{\hyperlink{classpepr3d_1_1_command_manager}{Command\+Manager}} handles all undoable operations on target in the form of commands See. 

\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{classpepr3d_1_1_command_base}{Command\+Base}}. All commands must be executed via the \mbox{\hyperlink{classpepr3d_1_1_command_manager}{Command\+Manager}} Requirements for Target\+: Target must have a save\+State() and load\+State(\+State) methods 
\end{DoxySeeAlso}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classpepr3d_1_1_command_manager_a2ae3625cc0baac8bb27f659ee0182eff}\label{classpepr3d_1_1_command_manager_a2ae3625cc0baac8bb27f659ee0182eff}} 
\index{pepr3d::CommandManager$<$ Target $>$@{pepr3d::CommandManager$<$ Target $>$}!canRedo@{canRedo}}
\index{canRedo@{canRedo}!pepr3d::CommandManager$<$ Target $>$@{pepr3d::CommandManager$<$ Target $>$}}
\subsubsection{\texorpdfstring{canRedo()}{canRedo()}}
{\footnotesize\ttfamily template$<$typename Target $>$ \\
bool \mbox{\hyperlink{classpepr3d_1_1_command_manager}{pepr3d\+::\+Command\+Manager}}$<$ Target $>$\+::can\+Redo (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Is there a command that can be redoed? 

\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{classpepr3d_1_1_command_manager_ab5767a90a4f309d166210a8e43dec560}{get\+Next\+Command()}} 
\end{DoxySeeAlso}
\mbox{\Hypertarget{classpepr3d_1_1_command_manager_a2d53a763697329e206e72ddeef1ce75b}\label{classpepr3d_1_1_command_manager_a2d53a763697329e206e72ddeef1ce75b}} 
\index{pepr3d::CommandManager$<$ Target $>$@{pepr3d::CommandManager$<$ Target $>$}!canUndo@{canUndo}}
\index{canUndo@{canUndo}!pepr3d::CommandManager$<$ Target $>$@{pepr3d::CommandManager$<$ Target $>$}}
\subsubsection{\texorpdfstring{canUndo()}{canUndo()}}
{\footnotesize\ttfamily template$<$typename Target $>$ \\
bool \mbox{\hyperlink{classpepr3d_1_1_command_manager}{pepr3d\+::\+Command\+Manager}}$<$ Target $>$\+::can\+Undo (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Is there a command that can be undoed? 

\begin{DoxySeeAlso}{See also}
get\+Last\+Command() 
\end{DoxySeeAlso}
\mbox{\Hypertarget{classpepr3d_1_1_command_manager_a0aae9681640f09da9c908154b805273e}\label{classpepr3d_1_1_command_manager_a0aae9681640f09da9c908154b805273e}} 
\index{pepr3d::CommandManager$<$ Target $>$@{pepr3d::CommandManager$<$ Target $>$}!execute@{execute}}
\index{execute@{execute}!pepr3d::CommandManager$<$ Target $>$@{pepr3d::CommandManager$<$ Target $>$}}
\subsubsection{\texorpdfstring{execute()}{execute()}}
{\footnotesize\ttfamily template$<$typename Target $>$ \\
void \mbox{\hyperlink{classpepr3d_1_1_command_manager}{pepr3d\+::\+Command\+Manager}}$<$ Target $>$\+::execute (\begin{DoxyParamCaption}\item[{std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classpepr3d_1_1_command_base}{Command\+Base\+Type}} $>$ \&\&}]{command,  }\item[{bool}]{join = {\ttfamily false} }\end{DoxyParamCaption})}



Execute a command, saving it into a history and removing all currently redoable commands. 


\begin{DoxyParams}{Parameters}
{\em join} & Try to join this command into the last one \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classpepr3d_1_1_command_manager_a1dc9b90a3f5a6f14502999187a9d45ef}\label{classpepr3d_1_1_command_manager_a1dc9b90a3f5a6f14502999187a9d45ef}} 
\index{pepr3d::CommandManager$<$ Target $>$@{pepr3d::CommandManager$<$ Target $>$}!getLastCommand@{getLastCommand}}
\index{getLastCommand@{getLastCommand}!pepr3d::CommandManager$<$ Target $>$@{pepr3d::CommandManager$<$ Target $>$}}
\subsubsection{\texorpdfstring{getLastCommand()}{getLastCommand()}}
{\footnotesize\ttfamily template$<$typename Target $>$ \\
const \mbox{\hyperlink{classpepr3d_1_1_command_manager}{Command\+Manager}}$<$ Target $>$\+::\mbox{\hyperlink{classpepr3d_1_1_command_base}{Command\+Base\+Type}} \& \mbox{\hyperlink{classpepr3d_1_1_command_manager}{pepr3d\+::\+Command\+Manager}}$<$ Target $>$\+::get\+Last\+Command (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Get last command that was executed (ie the command to be undoed) 

\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{classpepr3d_1_1_command_manager_a2d53a763697329e206e72ddeef1ce75b}{can\+Undo()}} 
\end{DoxySeeAlso}
\mbox{\Hypertarget{classpepr3d_1_1_command_manager_ab5767a90a4f309d166210a8e43dec560}\label{classpepr3d_1_1_command_manager_ab5767a90a4f309d166210a8e43dec560}} 
\index{pepr3d::CommandManager$<$ Target $>$@{pepr3d::CommandManager$<$ Target $>$}!getNextCommand@{getNextCommand}}
\index{getNextCommand@{getNextCommand}!pepr3d::CommandManager$<$ Target $>$@{pepr3d::CommandManager$<$ Target $>$}}
\subsubsection{\texorpdfstring{getNextCommand()}{getNextCommand()}}
{\footnotesize\ttfamily template$<$typename Target $>$ \\
const \mbox{\hyperlink{classpepr3d_1_1_command_manager}{Command\+Manager}}$<$ Target $>$\+::\mbox{\hyperlink{classpepr3d_1_1_command_base}{Command\+Base\+Type}} \& \mbox{\hyperlink{classpepr3d_1_1_command_manager}{pepr3d\+::\+Command\+Manager}}$<$ Target $>$\+::get\+Next\+Command (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Get next command to be redoed if it exists. 

\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{classpepr3d_1_1_command_manager_a2ae3625cc0baac8bb27f659ee0182eff}{can\+Redo()}} 
\end{DoxySeeAlso}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
D\+:/\+Home/\+M\+F\+F/1-\/\+Mgr/projekt/pepr3d/src/commands/Command\+Manager.\+h\end{DoxyCompactItemize}
